<%= @student.first_name %>
<p><%= "Nombre total de stages : #{@student.camps_count}" %></p>
<p><%= "Nombre de cours passés: #{@student.past_courses_count}" %></p>
<p><%= "Nombre total d'absences : #{@student.unattended_courses_count}" %></p>
<p><%= "Taux d'absentéisme : #{@student.unattended_rate}%" %></p>


<div data-controller="enrollment-form">
  <%= form_with url: managers_enrollments_path, local: true do |form| %>
    <div class="form-group">
      <%= form.hidden_field :student_id, value: @student.id %>

      <%= form.label :academy, "Académie" %>
      <%= form.collection_select :academy, @academies, :id, :name, {}, {class: "form-select", required: true, data: { enrollment_form_target: 'academy', action: "change->enrollment-form#updateSchoolPeriods" } } %>

      <%= form.label :school_period, "Période" %>
      <%= form.collection_select :school_period, [], :id, :name, {}, {class: "form-select", required: true, data: { enrollment_form_target: 'schoolPeriod', action: "change->enrollment-form#updateCamps" } } %>

      <%= form.label :camp, "Stage" %>
      <%= form.collection_select :camp, [], :id, :name, {}, {class: "form-select", required: true, data: { enrollment_form_target: 'camp', action: "change->enrollment-form#updateActivities" } } %>

      <%= form.label :activity, "Activité" %>
      <%= form.collection_select :activity, [], :id, :name, {}, {class: "form-select", required: true, data: { enrollment_form_target: 'activity' } } %>
    </div>

    <div class="form-group">
      <%= form.submit "Valider", class: "btn btn-primary" %>
    </div>
  <% end %>
</div>
