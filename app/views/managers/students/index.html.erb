<%= render "shared/academy_header" %>
<div class="container">
  <div class="flexy">
    <%= link_to "Ajouter un élève", new_managers_student_path, class: "btn-etendart-square mt-3 mb-2" %>
  </div>
  <div data-controller="student-table" class="form-container table-center">
    <table id="myTable" class="table table-striped table-responsive">
      <thead>
        <tr>
          <th data-orderable="true" data-searchable="true" class="table-search-header" data-name="nom">Nom</th>
          <th data-orderable="true" data-searchable="true" class="table-search-header" data-name="prenom">Prénom</th>
          <th data-orderable="true" data-searchable="true" class="table-search-header" data-name="genre">Genre</th>
          <th data-orderable="true" data-searchable="true" class="table-search-header" data-name="email">Email</th>
          <th data-orderable="true" data-searchable="true" class="table-search-header" data-name="phone">Téléphone</th>
          <th data-orderable="true" data-searchable="true" class="table-search-header" data-name="datenaissance">Date de naissance</th>
          <th data-orderable="true" data-searchable="true" class="table-search-header" data-name="city">Ville</th>
        </tr>
      </thead>
      <tbody>
        <% @students.each do |student| %>
          <tr class="clickable-tr" onclick="window.location.href='<%= managers_student_path(student) %>'">
            <td><%= student.last_name %></td>
            <td><%= student.first_name %></td>
            <td><%= student.gender %></td>
            <td><%= student.email %></td>
            <td><%= "0#{student.phone_number}" %></td>
            <td><%= student.date_of_birth %></td>
            <td><%= student.city %></td>
          </tr>
        <% end %>
      </tbody>
    </table>
  </div>
</div>
