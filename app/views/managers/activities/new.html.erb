<%= simple_form_for @activity, url: managers_camp_activities_path(camp_id: @camp.id), method: :post, data: { controller: 'activity-form' } do |f| %>
  <%= f.input :name %>
  <%= f.input :category_id, as: :select, collection: Category.all, label_method: :name, value_method: :id %>
  <%= f.input :coach_id, as: :select, collection: User.all, label_method: :email, value_method: :id %>

  <ul>
    <li>
      <%= f.simple_fields_for :description do |day_form| %>
        <%= day_form.check_box :day_of_week, { multiple: true, checked: true }, "Lundi".to_s %>
        <%= day_form.label :day_of_week, "Lundi".to_s %>
        <%= day_form.time_field :start_time, value: Activity::DAYS[:Lundi][:start_time], data: { activity_form_target: 'mondayStartTime', action: 'change->activity-form#onMondayStartTimeInputChange' } %>
        <%= day_form.time_field :end_time, value: Activity::DAYS[:Lundi][:end_time], data: { activity_form_target: 'mondayEndTime', action: 'change->activity-form#onMondayEndTimeInputChange' } %>
      <% end %>
    </li>

    <% Activity::DAYS.except(:Lundi).each do |day, times| %>
      <li class="other-days">
        <%= f.simple_fields_for :description do |day_form| %>
          <%= day_form.check_box :day_of_week, { multiple: true, checked: true }, day.to_s %>
          <%= day_form.label :day_of_week, day.to_s %>
          <%= day_form.time_field :"start_time_#{day}", value: times[:start_time], data: { activity_form_target: 'startTime' } %>
          <%= day_form.time_field :"end_time_#{day}", value: times[:end_time], data: { activity_form_target: 'endTime' } %>
        <% end %>
      </li>
    <% end %>
  </ul>

  <%= f.submit "Save Activity" %>
<% end %>
